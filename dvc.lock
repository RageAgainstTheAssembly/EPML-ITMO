schema: '2.0'
stages:
  train:
    cmd: poetry run python -m wine_predictor.modeling.train --model logreg
    deps:
    - path: configs/model/logreg.yaml
      hash: md5
      md5: 7a574d17aa460b57839f6b7983e45e58
      size: 72
    - path: configs/train/base.yaml
      hash: md5
      md5: def44195c200a1f6369c613f6c1b8163
      size: 45
    - path: data/external/WineQT.csv
      hash: md5
      md5: e2e57e4c41e6ee0213fb12e5a70f4bfb
      size: 78057
    - path: wine_predictor/config.py
      hash: md5
      md5: f8e0bb0b866b416f779452f2e265a045
      size: 4215
    - path: wine_predictor/dataset.py
      hash: md5
      md5: c1da790f5ae4ce045f68f79d07befe54
      size: 869
    - path: wine_predictor/features.py
      hash: md5
      md5: ec9e4ddb5a779d9d607a104aae9e6110
      size: 418
    - path: wine_predictor/modeling/train.py
      hash: md5
      md5: bfeefed1c8411ac6eb61b4fcfeed609c
      size: 5248
    outs:
    - path: metrics.json
      hash: md5
      md5: ab207ba7392203c8d6d7b93e7fec6731
      size: 36
    - path: models/baseline_model.joblib
      hash: md5
      md5: 3c11117f48ea1ceacc06a071b3dc7b3d
      size: 2617
  evaluate:
    cmd: poetry run python -m wine_predictor.pipelines.evaluate
    deps:
    - path: models/baseline_model.joblib
      hash: md5
      md5: 3c11117f48ea1ceacc06a071b3dc7b3d
      size: 2617
    - path: wine_predictor/config.py
      hash: md5
      md5: f8e0bb0b866b416f779452f2e265a045
      size: 4215
    - path: wine_predictor/dataset.py
      hash: md5
      md5: c1da790f5ae4ce045f68f79d07befe54
      size: 869
    - path: wine_predictor/features.py
      hash: md5
      md5: ec9e4ddb5a779d9d607a104aae9e6110
      size: 418
    - path: wine_predictor/pipelines/evaluate.py
      hash: md5
      md5: 09b29f88bbcc8b44da4cbbab0cdd6a45
      size: 3630
    outs:
    - path: reports/metrics_detailed.json
      hash: md5
      md5: f23368083b5736c096ff2e2e31c3825f
      size: 1628
  notify:
    cmd: poetry run python -m wine_predictor.pipelines.notify
    deps:
    - path: reports/metrics_detailed.json
      hash: md5
      md5: f23368083b5736c096ff2e2e31c3825f
      size: 1628
    - path: wine_predictor/pipelines/notify.py
      hash: md5
      md5: 9790311be990cfa487a97755ef4ea49f
      size: 2365
  doc_report:
    cmd: poetry run generate-experiment-report
    deps:
    - path: mlruns/mlflow.db
      hash: md5
      md5: 47997e5b5d4d7c0e522e50f2c4796ac5
      size: 602112
    - path: wine_predictor/reporting/generate_experiment_report.py
      hash: md5
      md5: 9934afdbb0064ba750108ff54e3a41df
      size: 3531
    outs:
    - path: docs/experiments/experiments.md
      hash: md5
      md5: fb574703865ab467dea498d85ada01c9
      size: 2826
    - path: docs/experiments/figures
      hash: md5
      md5: 4be1b2157d837b172d49523d56269364.dir
      size: 54880
      nfiles: 3
